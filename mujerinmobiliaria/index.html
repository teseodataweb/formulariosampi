<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mujer Inmobiliaria | AMPI Riviera Nayarit</title>
    <meta
      name="description"
      content="Participa en nuestra encuesta de satisfacci√≥n de la Junta Bimestral y ayuda a mejorar tus experiencias con AMPI Riviera Nayarit."
    />
    <link rel="icon" href="../favicon.png" type="image/x-icon" />

    <!-- Plugins & Librer√≠as -->
    <link rel="stylesheet" href="../assets/vendor/font-awesome/all.min.css" />

    <!-- Estilos -->
    <link rel="stylesheet" href="../src/output.css" />
    <link rel="stylesheet" href="../assets/css/style.css" />

    <!-- SweetAlert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Google Tag -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-HNXC8ECL83"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-HNXC8ECL83");
    </script>
  </head>

  <body>
    <!-- Overlay y b√∫squeda (estructura oculta) -->
    <div class="ed-overlay group">
      <div
        class="fixed inset-0 z-[100] group-[.active]:bg-edblue/80 duration-[400ms] pointer-events-none group-[.active]:pointer-events-auto"
      ></div>
    </div>

    <div class="ed-search group">
      <form
        class="bg-white fixed z-[100] top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-[100px] md:h-[70px] xxs:h-[50px] w-[1224px] max-w-[95%] flex gap-[10px] rounded-full overflow-hidden px-[40px] xxs:px-[20px] pointer-events-none opacity-0 group-[.active]:pointer-events-auto group-[.active]:opacity-100 duration-[400ms]"
      >
        <input
          type="search"
          name="ed-search"
          placeholder="Buscar..."
          class="bg-transparent w-full focus:outline-none"
        />
        <button class="text-[25px] md:text-[22px] xxs:text-[20px]">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </form>
    </div>

    <!-- Header -->
    <header
      class="bg-edblue ed-header--2 relative z-[2] px-[7.9%] py-[25px] xxs:py-[16px] flex items-center justify-between"
    >
      <div class="logo xxs:max-w-[40%]">
        <a href="../index-2.html"
          ><img src="../assets/img/logoampi.png" alt="logo"
        /></a>
      </div>
      <div class="flex lg:items-center lg:gap-[30px]">
        <ul class="ed-header-nav flex gap-x-[43px] font-kanit text-[17px]">
          <li><a href="https://ampirivieranayarit.com/">Inicio</a></li>
        </ul>
        <button
          type="button"
          class="ed-mobile-menu-open-btn hidden lg:inline-block text-white text-[18px] hover:text-edyellow"
        >
          <i class="fa-solid fa-bars"></i>
        </button>
      </div>
    </header>

    <!-- Main -->
    <main>
      <!-- Secci√≥n de Encuesta -->
      <!-- CONTACT SECTION START -->
      <section class="py-[120px] xl:py-[80px] md:py-[60px]">
        <div class="container mx-auto max-w-[1200px] px-[12px] xl:max-w-full">
          <div id="form" class="w-full">
            <h2
              class="text-[40px] md:text-[35px] sm:text-[30px] xxs:text-[28px] font-semibold text-edblue mb-[7px]"
            >
              Mujer Inmobiliaria
            </h2>
            <p class="text-edgray font-normal text-[16px] mb-[38px]">
              Participa en nuestra charla de Mujer Inmobiliaria y ayuda a mejorar tus experiencias con AMPI Riviera Nayarit.
            </p>
            <div
                id="cupo-mujer"
                class="mb-[20px] text-[16px] font-semibold"
              ></div>


            <form
              id="form-mujer"
              action="https://script.google.com/macros/s/AKfycbwOk0Vfvn-rx54rnOOrTP0pUgcDqgTYoUPzP993E63Ulk476niS5pxL_7RhE4jnAADURw/exec"
              method="POST"
              class="grid grid-cols-1 gap-[30px] text-[16px] w-full"
            >
              <!-- üë§ Informaci√≥n general -->
              <h3 class="text-edblue text-[24px] font-semibold">
                Informaci√≥n general
              </h3>

              <div>
                <label class="block font-semibold text-edblue mb-[8px]">
                  1. Nombre completo:
                </label>
                <input
                  type="text"
                  name="nombre"
                  placeholder="Ingresa tu nombre completo"
                  minlength="3"
                  required
                  class="w-full border border-[#ECECEC] h-[50px] px-[20px] rounded-[4px]"
                />
              </div>

              <div>
                <label class="block font-semibold text-edblue mb-[8px]">
                  2. Tel√©fono:
                </label>
                <input
                  type="tel"
                  name="telefono"
                  placeholder="Ingresa tu n√∫mero celular"
                  pattern="[0-9]{10}"
                  maxlength="10"
                  required
                  class="w-full border border-[#ECECEC] h-[50px] px-[20px] rounded-[4px]"
                />
              </div>

              <div>
                <label class="block font-semibold text-edblue mb-[8px]">
                  3. Correo electr√≥nico:
                </label>
                <input
                  type="email"
                  name="correo"
                  placeholder="Ingresa tu correo electr√≥nico"
                  required
                  class="w-full border border-[#ECECEC] h-[50px] px-[20px] rounded-[4px]"
                />
              </div>

              <div>
                <label class="block font-semibold text-edblue mb-[8px]">
                  4. Agencia:
                </label>
                <input
                  type="text"
                  name="agencia"
                  placeholder="Nombre de tu agencia"
                  class="w-full border border-[#ECECEC] h-[50px] px-[20px] rounded-[4px]"
                />
              </div>

              <div>
                <label class="block font-semibold text-edblue mb-[8px]">
                  5. Tipo de participante:
                </label>
                <select
                  name="perfil"
                  required
                  class="w-full border border-[#ECECEC] h-[50px] px-[20px] rounded-[4px]"
                >
                  <option value="">Selecciona tu perfil</option>
                  <option value="Afiliado">Afiliado</option>
                  <option value="Independiente">Independiente</option>
                  <option value="Otro">Otro</option>
                </select>
              </div>

              <div>
                <label class="block font-semibold text-edblue mb-[8px]">
                  ¬øC√≥mo te enteraste del evento?
                </label>
                <select
                  name="medio"
                  id="medio-mujer"
                  required
                  class="w-full border border-[#ECECEC] h-[50px] px-[20px] rounded-[4px]"
                >
                  <option value="">Selecciona una opci√≥n</option>
                  <option value="Redes sociales">Redes sociales</option>
                  <option value="Invitaci√≥n por WhatsApp">Invitaci√≥n por WhatsApp</option>
                  <option value="Correo electr√≥nico">Correo electr√≥nico</option>
                  <option value="Grupo de WhatsApp">Grupo de WhatsApp</option>
                  <option value="Otro">Otro</option>
                </select>
              </div>
              
              <!-- Campo condicional "Especifique" -->
              <div id="otro-medio-container-mujer" style="display: none;">
                <label class="block font-semibold text-edblue mb-[8px] mt-[10px]">
                  Especifica c√≥mo te enteraste:
                </label>
                <input
                  type="text"
                  name="medio_otro"
                  id="medio_otro_mujer"
                  placeholder="Especifica otro medio"
                  class="w-full border border-[#ECECEC] h-[50px] px-[20px] rounded-[4px]"
                />
              </div>

              <script>
                document.getElementById("medio-mujer").addEventListener("change", function () {
                  const otroContainer = document.getElementById("otro-medio-container-mujer");
                  if (this.value === "Otro") {
                    otroContainer.style.display = "block";
                  } else {
                    otroContainer.style.display = "none";
                    document.getElementById("medio_otro_mujer").value = ""; // Limpia si cambia opci√≥n
                  }
                });
              </script>
              


              <div>
                <input type="hidden" name="form_id" value="mujer" />
                <button
                  type="submit"
                  class="bg-edpurple h-[55px] px-[24px] rounded-[10px] text-white hover:bg-edblue font-medium"
                >
                  Reg√≠strate
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>
      <!-- CONTACT SECTION END -->

      <!-- CTA Final -->
      <section
        class="ed-2-cta overflow-hidden bg-edpurple pt-[15px] md:pt-[40px] relative z-[1] before:absolute before:inset-0 before:bg-[url(../assets/img/cta-2-vector.png)] before:bg-center before:bg-no-repeat before:bg-cover before:-z-[1]"
      >
        <div class="mx-[19.7%] md:mx-[15px]">
          <div
            class="flex md:flex-col gap-y-[15px] items-center justify-between"
          >
            <div class="max-w-[600px] shrink-0">
              <h3
                class="font-semibold text-[36px] text-white leading-[1.4] mb-[41px]"
              >
              ¬°No puedes faltar! Pre reg√≠strate aqu√≠ y asegura tu lugar: 
              </h3>
              <a
                href="#form"
                class="ed-btn !h-[56px] !bg-white !text-black hover:!bg-edyellow hover:!text-edblue"
              >
                Confirmar asistencia
                <span class="icon"
                  ><i class="fa-solid fa-arrow-right-long"></i
                ></span>
              </a>
            </div>
            <div class="mr-[40px] lg:mr-0 relative z-[1] shrink-0">
              <img src="../assets/img/cta-2-img.png" alt="imagen cta" />
              <div
                class="aspect-square w-[386px] border-[57px] border-edyellow rounded-full absolute bottom-0 right-[25%] translate-y-[50%] -z-[1]"
              ></div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer
      class="bg-edblue relative z-[1] text-white before:absolute before:inset-0 before:-z-[1] before:bg-[url('assets/img/footer-bg.jpg')] before:opacity-[7%] before:bg-cover before:bg-center"
    >
      <div class="mx-[19.71%] md:mx-[12px]">
        <div
          class="flex flex-wrap justify-between gap-[35px] pt-[100px] pb-[58px] border-b border-white/20"
        >
          <div class="max-w-[370px]">
            <a href="../index-2.html"
              ><img
                src="../assets/img/logoampi.png"
                alt="logo"
                class="mb-[23px]"
            /></a>
            <p class="text-[#D9D9D9] mb-[19px]">
              Asociaci√≥n Mexicana de Profesionales Inmobiliarios Riviera Nayarit
            </p>
            <ul class="space-y-[17px]">
              <li>
                <a href="tel:+523222975322" class="hover:text-edyellow"
                  ><i class="fa fa-phone mr-2"></i>+52 322 297 5322</a
                >
              </li>
              <li>
                <a
                  href="mailto:ampi.nayarit@gmail.com"
                  class="hover:text-edyellow"
                  ><i class="fa fa-envelope mr-2"></i>ampi.nayarit@gmail.com</a
                >
              </li>
            </ul>
          </div>
          <div class="max-w-[300px]">
            <div class="flex gap-[20px] mt-[30px]">
              <span
                class="pl-[30px] font-medium text-[#d9d9d9] relative before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2 before:h-[1px] before:w-[20px] before:bg-[#d9d9d9]"
                >S√≠guenos</span
              >
              <div class="flex gap-[16px] text-[#d9d9d9]">
                <a
                  href="https://www.facebook.com/AMPIRivieraNayarit"
                  class="hover:text-edyellow"
                  ><i class="fa-brands fa-facebook-f"></i
                ></a>
                <a
                  href="https://www.tiktok.com/@ampi.riviera.naya"
                  class="hover:text-edyellow"
                  ><i class="fa-brands fa-tiktok"></i
                ></a>
                <a
                  href="https://www.linkedin.com/company/ampi-riviera-nayarit/"
                  class="hover:text-edyellow"
                  ><i class="fa-brands fa-linkedin-in"></i
                ></a>
                <a
                  href="https://www.youtube.com/@AMPIRivieraNayarit"
                  class="hover:text-edyellow"
                  ><i class="fa-brands fa-youtube"></i
                ></a>
                <a
                  href="https://www.instagram.com/ampirivieranayarit/"
                  class="hover:text-edyellow"
                  ><i class="fa-brands fa-instagram"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
        <div
          class="flex flex-wrap items-center justify-between gap-[15px] pt-[20px] pb-[50px] text-[#d9d9d9]"
        >
          <p>
            &copy;
            <script>
              document.write(new Date().getFullYear());
            </script>
            AMPI Riviera Nayarit. Todos los Derechos Reservados.
          </p>
          <a
            href="http://ampirivieranayarit.com/copyright-policy/"
            class="hover:text-edyellow"
            >T√©rminos y Condiciones</a
          >
        </div>
      </div>
    </footer>

    <!-- JS -->
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/accordion.js"></script>

    <!-- Form submission con validaci√≥n -->
<!-- Formulario Mujer Inmobiliaria con loader y confirmaci√≥n -->

<script>
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwOk0Vfvn-rx54rnOOrTP0pUgcDqgTYoUPzP993E63Ulk476niS5pxL_7RhE4jnAADURw/exec";
  const submitBtn = document.querySelector('#form-mujer button[type="submit"]');
  const cupoMsg = document.getElementById('cupo-mujer');
  
  async function verificarCupoMujer() {
    try {
      const res = await fetch(`${SCRIPT_URL}?form_id=mujer`);
      const data = await res.json();
  
      if (!data.disponible) {
        cupoMsg.innerHTML = "‚ö† Cupo lleno. El registro ya no est√° disponible.";
        cupoMsg.className = "mb-[20px] text-red-600 font-semibold";
        submitBtn.disabled = true;
        submitBtn.classList.add("opacity-50", "cursor-not-allowed");
        return false;
      }
  
      if (data.disponibles <= 5) {
        cupoMsg.innerHTML = `‚è∞ ¬°√öltimos ${data.disponibles} lugares disponibles!`;
        cupoMsg.className = "mb-[20px] text-orange-600 font-semibold";
      } else {
        cupoMsg.innerHTML = `‚úÖ Cupo disponible (${data.disponibles} lugares)`;
        cupoMsg.className = "mb-[20px] text-green-600 font-semibold";
      }
  
      return true;
    } catch (err) {
      console.error(err);
      cupoMsg.innerHTML = "‚ö† No se pudo verificar el cupo. Intenta m√°s tarde.";
      cupoMsg.className = "mb-[20px] text-red-600 font-semibold";
      submitBtn.disabled = true;
      return false;
    }
  }
  
  // Ejecutar al cargar
  verificarCupoMujer();
  </script>
<script>
  document.querySelector('#form-mujer').addEventListener('submit', async function (e) {
    e.preventDefault();
  
    // Verificar cupo antes de enviar
    const cupoDisponible = await verificarCupoMujer();
    if (!cupoDisponible) {
      Swal.fire({
        title: "Cupo lleno",
        text: "El registro para Mujer Inmobiliaria ya no est√° disponible.",
        icon: "warning",
        confirmButtonColor: "#5B21B6"
      });
      return;
    }
  
    const form = e.target;
    const data = new FormData(form);
  
    Swal.fire({
      title: 'Enviando...',
      html: 'Por favor espera mientras enviamos tu registro.',
      allowOutsideClick: false,
      showConfirmButton: false,
      didOpen: () => Swal.showLoading()
    });
  
    try {
      const res = await fetch(form.action, {
        method: "POST",
        body: data
      });
  
      const text = await res.text();
  
      Swal.fire({
        title: "¬°Gracias!",
        text: text,
        icon: "success",
        confirmButtonText: "Cerrar",
        confirmButtonColor: "#5B21B6"
      });
  
      form.reset();
      verificarCupoMujer(); // refresca cupo
    } catch (error) {
      Swal.fire({
        title: "Error",
        text: "Hubo un problema al enviar tu registro.",
        icon: "error"
      });
    }
  });
  </script>
  



  

  </body>
</html>
